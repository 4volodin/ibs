> #### ÐžÐ¿Ð¸ÑˆÐ¸Ñ‚Ðµ ÑÐ»Ð¾Ð²Ð°Ð¼Ð¸ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñƒ Ð¾ÑˆÐ¸Ð±Ð¾Ðº Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹Ðµ Ð¿ÑƒÑ‚Ð¸ Ð¸Ñ… ÑƒÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ

### 01. ÐžÑˆÐ¸Ð±ÐºÐ¸ Ð² ÑÐ±Ð¾Ñ€ÐºÐµ npm (EPIPE)
ÐŸÑ€ÐµÐ¶Ð´Ðµ Ð²ÑÐµÐ³Ð¾ ÑÐ»ÐµÐ´ÑƒÐµÑ‚ Ð¾Ð±Ñ€Ð°Ñ‚Ð¸Ñ‚ÑŒ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ Ð½Ð° ÑÐ»ÐµÐ´ÑƒÑ‰Ð¸Ð¹ ÑƒÑ‡Ð°ÑÑ‚Ð¾Ðº ÐºÐ¾Ð´Ð°:
```
[2023-07-25T15:36:36.499Z] [91mnpm ERR! code EPIPE
[2023-07-25T15:36:36.499Z] [0m[91mnpm [0m[91mERR![0m[91m syscall write
[2023-07-25T15:36:36.499Z] [0m[91mnpm ERR! errno -32
[2023-07-25T15:36:36.499Z] [0m[91mnpm ERR! write EPIPE

```
 ÐŸÐ¾ÑÐ²Ð»ÐµÐ½Ð¸Ðµ ÑÑ‚Ð¾Ð¹ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð²Ñ‹Ð·Ð²Ð°Ð½Ð¾ Ð¼Ð½Ð¾Ð³Ð¸Ð¼Ð¸ Ñ„Ð°ÐºÑ‚Ð¾Ñ€Ð°Ð¼Ð¸:

    - Ð¾Ð½Ð° ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð½Ð° Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ð·Ð°Ð¿Ð¸ÑÑŒÑŽ Ð² Ð¿Ð¾Ñ‚Ð¾Ðº, Ð¿Ñ€Ð¾Ñ†ÐµÑÑ npm Ð±Ñ‹Ð» Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½ Ð´Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð·Ð°Ð¿Ð¸ÑÐ¸
    - Ð½ÐµÑ…Ð²Ð°Ñ‚ÐºÐ° ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ñ… Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²

#### Troubleshooting:
    - Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» Ð¶ÑƒÑ€Ð½Ð°Ð»Ð° /opt/app-root/src/.npm/_logs/2023-07-25T15_36_24_444Z-debug-0.log
    - Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ --verbose Ð´Ð»Ñ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ð¾Ð³Ð¾ Ð²Ñ‹Ð²Ð¾Ð´Ð°
    - Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð²ÐµÑ€ÑÐ¸Ð¸ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð° node, npm
    - Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Ð½ÐµÑ‚ Ð·Ð°Ð¿Ð¸ÑÐ¸ Ð² Ñ„Ð°Ð¹Ð»(Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ), ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°
    - googling

#### [Solution](https://stackoverflow.com/questions/74095146/gitlab-ci-npm-err-code-epipe-on-every-build-while-running-npm-install):

Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ --no-audit Ð² (RUN npm install --no-audit && ...).

Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¸Ð· package-lock.json, Ð¿Ñ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð² Ð°ÑƒÐ´Ð¸Ñ‚ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸.
ÐÑƒÐ´Ð¸Ñ‚ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð¿Ñ€ÐµÑ€Ñ‹Ð²Ð°Ð» Ð·Ð°Ð¿Ð¸ÑÑŒ Ð² Ð¿Ð¾Ñ‚Ð¾Ðº Ð²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ Ð¸Ð·-Ð·Ð° ÑƒÑÐ·Ð²Ð¸Ð¼Ñ‹Ñ… Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹

> ÐºÑÑ‚Ð°Ñ‚Ð¸, Ñ‚Ð°Ð¼ ÐµÑ‰Ðµ ÐµÑÑ‚ÑŒ Ð¾ÑˆÐ¸Ð±ÐºÐ° - Ð¿ÐµÑ€ÐµÐ´ verbose ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾ Ð´Ð»Ð¸Ð½Ð½Ð¾Ðµ Ñ‚Ð¸Ñ€Ðµ, Ð½Ð¾ Ð´Ð¾ Ð½ÐµÐµ ÐµÑ‰Ðµ Ð½Ðµ Ð´Ð¾ÑˆÐ»Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ (Ð¾Ð± ÑÑ‚Ð¾Ð¼ Ð² ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¼ Ñ„Ð¸ÐºÑÐµ - Ð³Ñ€Ð°Ð¼Ð¾Ñ‚Ð½Ð¾ ÑÐ¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ð¾Ðµ Ñ‚ÐµÑÑ‚Ð¾Ð²Ð¾Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ Ñ Ð²Ð½ÐµÑÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸ÑÐ¼Ð¸ Ð½Ð° Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ)

### 02. ÐžÑˆÐ¸Ð±ÐºÐ° Ð² ÑÐ±Ð¾Ñ€ÐºÐµ npm (eslint)
ÐžÑ‡ÐµÐ²Ð¸Ð´Ð½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°:
```
[2023-07-26T09:41:50.975Z] [0m[91mnpm[0m[91m ERR! arg[0m[91m Argument starts with non-ascii dash, this is probably invalid: â€”verbose
```
#### Troubleshooting:

Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸Ð¼ ÑÑ‚Ñ€Ð¾ÐºÑƒ Ñ‡ÐµÑ€ÐµÐ· hex Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€ Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ñ‚Ð°Ð¼ ÑÑ‚Ð¾Ð¸Ñ‚ E2 80 94 Ð¿ÐµÑ€ÐµÐ´ verbose, Ñ‡Ñ‚Ð¾ Ð½Ð° ÑÐ°Ð¼Ð¾Ð¼ Ð´ÐµÐ»Ðµ Ð½ÐµÐ²ÐµÑ€Ð½Ð¾

Ð’ÑÑ‚Ð°Ð²Ð»ÐµÐ½ ÑÐ¸Ð¼Ð²Ð¾Ð» Ð´Ð»Ð¸Ð½Ð½Ð¾Ðµ Ñ‚Ð¸Ñ€Ðµ Ñ‡ÐµÑ€ÐµÐ· ÐºÐ¾Ð¼Ð±Ð¸Ð½Ð°Ñ†Ð¸ÑŽ Ð½Ð° ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ðµ Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Shift+Opt+- on macos (Ð½Ð° Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐµ ÑÑ‚Ð¾ Ñ€ÐµÐ´ÐºÐ¾ÑÑ‚ÑŒ, Ð¿Ð¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾ Ð»Ð¸Ð½Ñ‚ÐµÑ€ Ð½Ð° ÑÑ‚Ð¾Ñ€Ð¾Ð½Ðµ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ° Ð¸Ð»Ð¸ Ð² CI Ñ‚Ð°ÐºÐ¾Ðµ Ð±Ñ‹ Ð½Ðµ Ð¿Ñ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð»)

#### Solution:

Ð—Ð°Ð¼ÐµÐ½ÑÐµÐ¼ Ð´Ð»Ð¸Ð½Ð½Ð¾Ðµ Ñ‚Ð¸Ñ€Ðµ Ð½Ð° Ð´Ð²Ð° Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ñ… Ñ‚Ð¸Ñ€Ðµ --

### 03.ÐžÑˆÐ¸Ð±ÐºÐ° Ð² ÑÐ±Ð¾Ñ€ÐºÐµ npm

Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ñ ÐºÐ¾Ð½Ñ†Ð° Ð¸ Ð½Ð°Ð±Ð»ÑŽÐ´Ð°ÐµÐ¼ ÐºÐ¾Ð´, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð²Ñ‹Ð·Ð²Ð°Ð» Ð¾ÑˆÐ¸Ð±ÐºÑƒ:

```
[2023-07-26T06:23:27.975Z] + npm config set registry http://172.27.8.79:8081/repository/npm-group/
[2023-07-26T06:23:27.975Z] + npm config set always-auth true
[2023-07-26T06:23:28.545Z] npm ERR! `always-auth` is not a valid npm option
[2023-07-26T06:23:28.545Z] 
[2023-07-26T06:23:28.545Z] npm ERR! A complete log of this run can be found in: /home/jenkins/.npm/_logs/2023-07-26T06_23_10_371Z-debug-0.log
```
#### Troubleshooting:
```
npm ERR! `always-auth` is not a valid npm option
```
always-auth - ÑÑ‚Ð¾ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð² Ñ„Ð°Ð¹Ð»Ðµ .npmrc Ð²Ð¼ÐµÑÑ‚Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ npm config set. Ð­Ñ‚Ð¾Ñ‚ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚, ÑÐ»ÐµÐ´ÑƒÐµÑ‚ Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸ÑŽ Ð¿Ñ€Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ðµ Ðº Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸ÑŽ.

#### Solution:
ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ always-auth Ð² Ð²Ð°ÑˆÐµÐ¼ Ñ„Ð°Ð¹Ð»Ðµ ~/.npmrc
`always-auth = true`

### 04. ÐžÑˆÐ¸Ð±ÐºÐ¸ Ð² Cradle (404)

ÐŸÐ¾ Ð»Ð¾Ð³Ð°Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð´ÐµÐ»Ð°ÐµÑ‚ http Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹, Ð¼Ð¾Ð¶ÐµÐ¼ Ð²Ð¸Ð´ÐµÑ‚ÑŒ Ð¾ÑˆÐ¸Ð±ÐºÐ¸:
```
http-outgoing-11 >> "Content-Type: application/json[\r][\n]"
http-outgoing-11 >> "Content-Length: 224[\r][\n]"
http-outgoing-11 >> "Host: bcecosys-ms-gateway.apps.test.gazprom-neft.local[\r][\n]"
http-outgoing-11 >> "Connection: Keep-Alive[\r][\n]"
http-outgoing-11 >> "User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.17)[\r][\n]"
http-outgoing-11 >> "Cookie: 51b72c07907c594bc63fcb9f59daac11=9a8a11fa2e44f084e210babd3bd1733a[\r][\n]"
...
http-outgoing-11 << "HTTP/1.1 404 Not Found[\r][\n]"
```
#### Troubleshooting:

"HTTP/1.1 404 Not Found": Ð­Ñ‚Ð¾Ñ‚ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð½Ð° ÑÑ‚Ð°Ñ‚ÑƒÑ Ð¾Ñ‚Ð²ÐµÑ‚Ð° ÑÐµÑ€Ð²ÐµÑ€Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ñ€Ð°Ð²ÐµÐ½ 404 (Not Found), Ñ‡Ñ‚Ð¾ Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ ÑÐµÑ€Ð²ÐµÑ€ Ð½Ðµ ÑÐ¼Ð¾Ð³ Ð½Ð°Ð¹Ñ‚Ð¸ Ð·Ð°Ð¿Ñ€Ð¾ÑˆÐµÐ½Ð½Ñ‹Ð¹ Ñ€ÐµÑÑƒÑ€Ñ.
Ð­Ñ‚Ð¾ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð´Ð»Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸

#### Solution:

 Ð’Ñ‹ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸ URL-Ð°Ð´Ñ€ÐµÑ, Ð¸ Ñ‡Ñ‚Ð¾ ÑÐµÑ€Ð²ÐµÑ€ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ ÑÑ‚Ð¾Ð³Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°.
